<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Shop — Order Confirmation</title>
<style>
:root {
  --primary:#6e7843;
  --bg:#D9CFAB;
  --card:#fff;
  --muted:#000000;
}
* { box-sizing:border-box; margin:0; padding:0; }
body { font-family: Inter, system-ui, Arial, sans-serif; background: var(--bg); color:#0f172a; }
header { display:flex; justify-content:space-between; align-items:center; padding:10px 16px; background:#8f8552; color:#fff; }
header h1 { font-size:20px; }
main { max-width:800px; margin:20px auto; padding:0 12px; }
section { background:#fff; padding:20px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.08); margin-bottom:20px; }
section h2 { margin-bottom:12px; color:var(--primary); }
.cart-item { display:flex; justify-content:space-between; margin-bottom:10px; }
.cart-item div { flex:1; }
.cart-item .muted { font-size:13px; color:var(--muted); }
button { padding:12px 16px; border:0; border-radius:8px; background:var(--primary); color:#fff; font-weight:700; cursor:pointer; margin-top:12px; }
footer { text-align:center; padding:18px; font-size:14px; color:var(--muted); }
</style>
</head>
<body>

<header>
  <h1>Order Confirmed</h1>
  <a href="index.html" style="color:#fff;text-decoration:none;">Back to Home</a>
</header>

<main>
  <section>
    <h2>Thank you for your order!</h2>
    <p>Your order has been successfully placed. Below is a summary:</p>
    <div id="orderSummary"></div>
    <div style="margin-top:12px; font-weight:800">Total Paid: <span id="totalPaid">৳0</span></div>
    <button onclick="window.location.href='index.html'">Continue Shopping</button>
  </section>

  <section>
    <h2>Shipping Details</h2>
    <div id="customerDetails"></div>
  </section>
</main>

<footer>© <span id="year"></span> Shop</footer>

<script>
const KEY_LAST_ORDER = 'last_order'; // store last order from checkout
const year = document.getElementById('year'); if(year) year.textContent = new Date().getFullYear();

const orderSummary = document.getElementById('orderSummary');
const totalPaid = document.getElementById('totalPaid');
const customerDetails = document.getElementById('customerDetails');

/* Load last order */
const order = JSON.parse(localStorage.getItem(KEY_LAST_ORDER) || '{}');

if(order && order.items){
  let total = 0;
  for(const id in order.items){
    const qty = order.items[id];
    const product = order.products?.find(p=>p.id==id) || {name:'Product', price:0};
    const div = document.createElement('div'); div.className='cart-item';
    div.innerHTML = `<div>${product.name} × ${qty}</div><div>৳ ${Number(product.price)*qty}</div>`;
    orderSummary.appendChild(div);
    total += Number(product.price)*qty;
  }
  totalPaid.textContent = '৳'+total;

  /* Customer Info */
  if(order.customer){
    customerDetails.innerHTML = `
      <div><strong>Name:</strong> ${order.customer.name}</div>
      <div><strong>Email:</strong> ${order.customer.email}</div>
      <div><strong>Address:</strong> ${order.customer.address}</div>
      <div><strong>Phone:</strong> ${order.customer.phone}</div>
    `;
  }
} else {
  orderSummary.innerHTML = '<p>No order found.</p>';
}

</script>

</body>
</html>